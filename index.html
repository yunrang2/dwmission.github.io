<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mission Board</title>
<style>
@font-face {
    font-family: 'CustomFont';
    src: url('https://raw.githubusercontent.com/yunrang2/upload/master/DNFBitBitv2.ttf') format('truetype');
    font-weight: normal;
    font-style: normal;
}

body {
    margin: 0;
    padding: 0;
    overflow: hidden; /* 스크롤 막기 */
    position: relative;
    background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%);
    width: 100vw;
    height: 100vh;
    box-sizing: border-box;
    font-family: 'CustomFont', sans-serif;
}

.container {
    width: 100%;
    height: 100%;
    padding: 20px;
    box-sizing: border-box;
    color: #fff;
    text-shadow: 2px 2px 0 rgba(0, 0, 0, 0.5);
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    align-items: flex-start;
    position: relative;
    overflow: hidden;
}

.row {
    display: flex;
    justify-content: space-between;
    width: 100%;
    margin-bottom: 10px;
}

.text-group-container {
    margin-bottom: 0px;
}

.text-group {
    display: flex;
    justify-content: space-between; /* 왼쪽 텍스트와 오른쪽 텍스트 사이에 공간 배분 */
    width: 100%; /* 전체 너비 사용 */
}

.left-text,
.right-text {
    margin: 0;
    margin-bottom: 2px;
    transition: color 0.3s ease;
}

.left-text,
.right-text,
.special-text {
    font-size: 48px;
    font-weight: bold;
    padding: 5px 10px;
    box-sizing: border-box;
    position: relative;
    line-height: 1;
    display: inline-block;
    color: #fff;
    -webkit-text-stroke: 1px black;
    cursor: pointer;
    margin-bottom: 5px;
    transition: color 0.3s ease, text-shadow 0.3s ease; /* 컬러 변화와 음영 효과 추가 */
}

.left-text:hover,
.special-text:hover {
    color: #ffcc00; /* 호버 시 텍스트 색상 변경 */
    text-shadow: 4px 4px 8px rgba(0, 0, 0, 0.6); /* 호버 시 텍스트 음영 효과 */
}

.right-text {
    color: #ff63dd; /* 원래 색상 */
    text-align: right; /* 오른쪽 정렬 */
}

.right-text:hover {
    color: #ffcc00; /* 호버 시 텍스트 색상 변경 */
    text-shadow: 4px 4px 8px rgba(0, 0, 0, 0.6); /* 호버 시 텍스트 음영 효과 */
}

.yellow-text {
    color: yellow;
    text-align: left;
    margin-top: 0px;
    margin-bottom: 0px;
    font-size: 50px;
    margin-left: 80px;
    text-shadow:
        6px 0px 0 rgba(0, 0, 0, 0.5),
        -1px -1px 0 rgba(0, 0, 0, 0.5),
        1px -1px 0 rgba(0, 0, 0, 0.5),
        -1px 1px 0 rgba(0, 0, 0, 0.5),
        1px 1px 0 rgba(0, 0, 0, 0.5);
    transition: color 0.3s ease, text-shadow 0.3s ease; /* 컬러 변화와 음영 효과 추가 */
}

.yellow-text:hover {
    color: #ffcc00; /* 호버 시 텍스트 색상 변경 */
    text-shadow: 4px 4px 8px rgba(0, 0, 0, 0.6); /* 호버 시 텍스트 음영 효과 */
}

.button-container {
    display: flex;
    justify-content: flex-start;
    align-items: center;
    width: 100%;
    margin-top: 10px;
    gap: 5px;
}

.button {
    background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
    color: #fff;
    border: none;
    padding: 10px 20px;
    border-radius: 10px;
    font-size: 40px;
    cursor: pointer;
    width: auto;
    max-width: 200px;
    transition: background-color 0.3s ease, transform 0.3s ease;
}

.button:hover {
    background-color: #2980b9;
    transform: scale(1.05);
}

.disco-light {
    position: absolute;
    width: 50px;
    height: 50px;
    background-color: #fff;
    border-radius: 50%;
    animation: blink 1s infinite alternate;
}

#buttonContainer {
    position: fixed;
    top: 20px;
    right: 20px;
}

.chicken-img {
    position: absolute;
    bottom: 0;
    width: 300px;
    animation: dance 2s infinite alternate;
}

.chicken-img.left {
    left: 20px;
}

.chicken-img.right {
    right: 20px;
}

@keyframes dance {
    0% { transform: translateY(0); }
    100% { transform: translateY(-20px); }
}

.bg-music {
    position: fixed;
    bottom: 20px;
    right: 20px;
}

#bgMusicButton {
    position: fixed;
    bottom: 120px;
    right: 20px;
    cursor: pointer;
    z-index: 1000;
}

#bgMusicButton img {
    width: 200px;
    height: auto;
    display: block;
    border: none;
    outline: none;
}

#bgMusicButton:hover {
    opacity: 0.8;
}

#goBackButton {
    position: fixed;
    top: 20px;
    right: 20px;
}

.timer-container {
    position: fixed;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    background-color: rgba(255, 255, 255, 1);
    border: 2px solid #000;
    padding: 10px 20px;
    border-radius: 10px;
    font-size: 48px;
    z-index: 1001;
    animation: pulse 1s infinite alternate;
}

@keyframes pulse {
    0% {
        transform: scale(1);
    }
    100% {
        transform: scale(1.1);
    }
}

@keyframes heartbeat {
    from {
        transform: scale(1);
    }
    to {
        transform: scale(1.1);
    }
}

.modal {
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: #6a0dad;
    z-index: 1;
    width: 80%;
    max-width: 500px;
    background-color: #fefefe;
    padding: 20px;
    border: 1px solid #888;
    border-radius: 20px;
    font-family: 'CustomFont', sans-serif;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.modal-content {
    background-color: #fefefe;
    padding: 40px;
    border-radius: 20px;
    text-align: left;
    font-size: 42px;
}

.modal-content p {
    color: black;
}

.close {
    position: absolute;
    float: right;
    top: 1px;
    right: 5px;
    cursor: pointer;
    font-size: 36px;
    font-weight: bold;
    color: black;
    background-color: #ffffff;
    border: 2px solid #000000;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
}

.close:hover,
.close:focus {
    background-color: rgb(38, 0, 255);
    color: rgb(255, 0, 0);
    text-decoration: none;
    cursor: pointer;
}

.button-container-vertical {
    display: flex;
    flex-direction: column;
    align-items: center;
}

.button-bg-music {
    margin: 10px;
    padding: 10px 20px;
    font-size: 24px;
    background-color: #3498db;
    color: #fff;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.button-bg-music:hover {
    background-color: #2980b9;
}

#bgMusicModal.modal {
    right: 0;
    left: unset;
    bottom: 20px;
}

.red-flash {
    background-color: red;
    animation: flash 1s infinite alternate;
}

@keyframes flash {
    from { opacity: 1; }
    to { opacity: 0; }
}

.error-message {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: blue;
    padding: 20px;
    font-size: 36px;
    color: white;
}

.popup-image img {
    display: none;
}

#memoButton {
    position: fixed;
    bottom: 250px; /* 브금 버튼 위에 위치 */
    right: 20px;
    cursor: pointer;
    z-index: 1000;
    background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
    color: #fff;
    border: none;
    padding: 10px 20px;
    border-radius: 10px;
    font-size: 40px;
    transition: background-color 0.3s ease, transform 0.3s ease;
}

#memoButton:hover {
    background-color: #2980b9;
    transform: scale(1.05);
}

#calculatorButton {
    position: fixed;
    bottom: 350px; /* 메모 버튼 위에 위치 */
    right: 20px;
    cursor: pointer;
    z-index: 1000;
    background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
    color: #fff;
    border: none;
    padding: 10px 20px;
    border-radius: 10px;
    font-size: 40px;
    transition: background-color 0.3s ease, transform 0.3s ease;
}

#calculatorButton:hover {
    background-color: #2980b9;
    transform: scale(1.05);
}

#memoModal {
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: #fefefe;
    padding: 20px;
    border: 1px solid #888;
    border-radius: 20px;
    width: 80%;
    max-width: 500px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    z-index: 1001;
}

#memoModal .close {
    position: absolute;
    top: 10px;
    right: 10px;
    cursor: pointer;
    font-size: 36px;
    font-weight: bold;
    color: black;
    background-color: #ffffff;
    border: 2px solid #000000;
}

#memoModal .close:hover,
#memoModal .close:focus {
    background-color: rgb(38, 0, 255);
    color: rgb(255, 0, 0);
}

#memoModal textarea {
    width: 100%;
    height: 200px;
    padding: 10px;
    font-size: 18px;
    box-sizing: border-box;
    border-radius: 10px;
    border: 1px solid #ccc;
    margin-bottom: 40px;
}

#memoModal .button {
    background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
    color: #fff;
    border: none;
    padding: 10px 20px;
    border-radius: 10px;
    font-size: 24px;
    cursor: pointer;
    transition: background-color 0.3s ease, transform 0.3s ease;
}

#memoModal .button:hover {
    background-color: #2980b9;
    transform: scale(1.05);
}

#clearMemoButton {
    position: absolute;
    bottom: 20px;
    left: 20px;
}

#importantMemoButtonInModal {
    position: absolute;
    bottom: 20px;
    right: 20px;
    background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%);
}

.important-button {
    position: fixed;
    bottom: 120px;
    right: 20px;
    z-index: 1000;
    cursor: pointer;
    background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%);
    color: #fff;
    border: none;
    padding: 10px 20px;
    border-radius: 10px;
    font-size: 40px;
    transition: background-color 0.3s ease, transform 0.3s ease;
}

.important-button:hover {
    background-color: #e67e22;
    transform: scale(1.05);
}

#importantMemoModal, #fanBirthdayModal, #fanMemoModal, #addFanBirthdayModal, #addFanMemoModal, #viewFanMemoModal, #calculatorModal {
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: #fefefe;
    padding: 20px;
    border: 1px solid #888;
    border-radius: 20px;
    width: 80%;
    max-width: 500px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    z-index: 1001;
}

#addFanBirthdayModal input, #addFanMemoModal input, #addFanMemoModal textarea {
    width: 100%;
    padding: 10px;
    margin-bottom: 10px;
    font-size: 18px;
    box-sizing: border-box;
    border-radius: 10px;
    border: 1px solid #ccc;
}

#fanBirthdayList, #fanMemoList {
    list-style: none;
    padding: 0;
}

#fanBirthdayList li, #fanMemoList li {
    padding: 10px;
    border-bottom: 1px solid #ddd;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

#fanBirthdayList li button, #fanMemoList li button, #addFanBirthdayModal .button, #addFanMemoModal .button, #viewFanMemoModal .button {
    background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
    color: #fff;
    border: none;
    padding: 10px 20px;
    border-radius: 10px;
    font-size: 24px;
    cursor: pointer;
    transition: background-color 0.3s ease, transform 0.3s ease;
}

#fanBirthdayList li button:hover, #fanMemoList li button:hover, #addFanBirthdayModal .button:hover, #addFanMemoModal .button:hover, #viewFanMemoModal .button:hover {
    background-color: #2980b9;
    transform: scale(1.05);
}

#calculator {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 10px;
}

#calculator input {
    grid-column: span 4;
    padding: 10px;
    font-size: 18px;
    text-align: right;
    box-sizing: border-box;
    border-radius: 10px;
    border: 1px solid #ccc;
}

#calculator button {
    padding: 10px;
    font-size: 18px;
    box-sizing: border-box;
    border-radius: 10px;
    border: 1px solid #ccc;
    cursor: pointer;
    background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
    color: #fff;
    transition: background-color 0.3s ease, transform 0.3s ease;
}

#calculator button:hover {
    background-color: #2980b9;
    transform: scale(1.05);
}
</style>
</head>
<body>
<div class="container">
    <div class="text-group-container">
        <div class="row">
            <div class="text-group">
                <div class="left-text">
                    <span class="left-text" onclick="startHeartbeatEffect('heart1')">짤콘리액션</span><br>
                    <span class="left-text" onclick="startHeartbeatEffect('heart2')">마음열개</span><br>
                    <span class="left-text" onclick="startHeartbeatEffect('heart3')">배꼽인사</span><br>
                    <span class="left-text" onclick="startHeartbeatEffect('heart4')">하이킥</span><br>
                    <span class="left-text" onclick="startHeartbeatEffect(this)">지진쿵</span><br>
                    <span class="special-text" onclick="startTimer(30)">아봉30초</span><br>
                    <span class="left-text" onclick="startHeartbeatEffect(this)">입뿅</span><br>
                    <span class="special-text" onclick="toggleEffects()">ㄲㄲ</span><br>
                    <span class="left-text" onclick="startHeartbeatEffect(this)">애교</span><br>
                    <span class="special-text" onclick="startTimer(600)">얼낙10분</span><br>
                    <span class="special-text" onclick="startTimer(60)">가방속1분</span><br>
                    <span class="left-text" onclick="startHeartbeatEffect(this)">율동</span><br>
                    <span class="left-text" onclick="startHeartbeatEffect(this)">댄스</span><br>
                    <span class="special-text" onclick="startTimer(1800)">연장30분</span><br>
                    <span class="left-text" onclick="startHeartbeatEffect(this)">폭풍ㅅㅅ</span><br>
                    <span class="left-text" onclick="playMusicAndLights()">108배</span><br>
                    <span class="left-text" onclick="startHeartbeatEffect(this)">방종</span><br>
                </div>
                <div class="right-text">
                    <span class="right-text" onclick="startHeartbeatEffect(this)">1</span>~9<span class="heart" style="color: #ff0000;">♥</span><br>
                    <span class="right-text" onclick="startHeartbeatEffect(this)">10<span class="heart" style="color: #ff0000;">♥</span></span><br>
                    <span class="right-text" onclick="startHeartbeatEffect(this)">15<span class="heart" style="color: #ff0000;">♥</span></span><br>
                    <span class="right-text" onclick="startHeartbeatEffect(this)">17<span class="heart" style="color: #ff0000;">♥</span></span><br>
                    <span class="right-text" onclick="startHeartbeatEffect(this)">19<span class="heart" style="color: #ff0000;">♥</span></span><br>
                    <span class="special-text" style="color: #ff63dd;" onclick="startTimer(30)">30<span class="heart" style="color: #ff0000;">♥</span></span><br> 
                    <span class="right-text" onclick="startHeartbeatEffect(this)">33<span class="heart" style="color: #ff0000;">♥</span></span><br>
                    <span class="special-text" style="color: #ff63dd;">55<span class="heart" style="color: #ff0000;">♥</span></span><br>
                    <span class="right-text" onclick="startHeartbeatEffect(this)">59<span class="heart" style="color: #ff0000;">♥</span></span><br>
                    <span class="special-text" style="color: #ff63dd;" onclick="startTimer(600)">69<span class="heart" style="color: #ff0000;">♥</span></span><br> 
                    <span class="special-text" style="color: #ff63dd;" onclick="startTimer(60)">85<span class="heart" style="color: #ff0000;">♥</span></span><br> 
                    <span class="right-text" onclick="startHeartbeatEffect(this)">88<span class="heart" style="color: #ff0000;">♥</span></span><br>
                    <span class="right-text" onclick="startHeartbeatEffect(this)">200<span class="heart" style="color: #ff0000;">♥</span></span><br>
                    <span class="special-text" style="color: #ff63dd;" onclick="startTimer(1800)">향수<span class="heart" style="color: #ff0000;">♥</span></span><br> 
                    <span class="right-text" onclick="startHeartbeatEffect(this)">1414<span class="heart" style="color: #ff0000;">♥</span></span><br>
                    <span class="right-text" onclick="startHeartbeatEffect(this)">2024<span class="heart" style="color: #ff0000;">♥</span></span><br>
                    <span class="right-text" onclick="startHeartbeatEffect(this)">12486<span class="heart" style="color: #ff0000;">♥</span></span><br>
                </div>
            </div>
        </div>
        <div class="yellow-text">모든 미션 실드 +1</div>
        <div class="button-container">
            <div class="button" onclick="openModal('profile')">프로필</div>
            <div class="button" onclick="openModal('broadcast')">방송시간</div>
            <div class="button" onclick="openModal('signature')">시그니처</div>
        </div>
    </div>
    <div id="popup" class="popup-image" onclick="imageClicked()" style="position: fixed; top: 20px; right: 20px; width: 200px; height: 200px;" onmouseover="showImage()" onmouseout="hideImage()">
        <img src="https://raw.githubusercontent.com/yunrang2/upload/master/누르면안댐.png" alt="누르면안되는이미지" style="width: 100%; height: 100%; border: none;">
    </div>

    <div id="myModal" class="modal"></div>

    <div class="button-container" id="buttonContainer" style="display: none;">
        <div class="button" id="goBackButton" onclick="goBack()">←돌아가기</div>
    </div>
</div>
<audio id="bgMusic" loop class="bg-music">
    <source src="https://raw.githubusercontent.com/yunrang2/upload/master/닭춤.mp3" type="audio/mp3">
</audio>
<div id="bgMusicButton" class="button" onclick="openModal('bgMusic')">
    <img src="https://raw.githubusercontent.com/yunrang2/upload/master/브금-cutout.png" alt="브금" style="border: none;">
</div>

<!-- 메모 버튼 및 모달 -->
<div id="memoButton" class="button" onclick="openMemoModal()">메모</div>
<div id="calculatorButton" class="button" onclick="openCalculatorModal()">계산기</div>

<div id="memoModal" class="modal">
    <div class="close" onclick="closeMemoModal()">×</div>
    <textarea id="memoContent" placeholder="메모를 작성하세요..."></textarea>
    <button id="clearMemoButton" class="button" onclick="clearMemo()">클리어</button>
    <button id="importantMemoButtonInModal" class="button" onclick="openImportantMemoModal()">중요 메모</button>
</div>

<!-- 중요 메모 모달 -->
<div id="importantMemoModal" class="modal">
    <div class="close" onclick="closeImportantMemoModal()">×</div>
    <div class="button-container-vertical">
        <button class="button-bg-music" onclick="openFanBirthdayModal()">팬 생일</button>
        <button class="button-bg-music" onclick="openFanMemoModal()">팬 메모</button>
    </div>
</div>

<!-- 팬 생일 모달 -->
<div id="fanBirthdayModal" class="modal">
    <div class="close" onclick="closeFanBirthdayModal()">×</div>
    <div>
        <button class="button" onclick="openAddFanBirthdayModal()">추가</button>
    </div>
    <ul id="fanBirthdayList"></ul>
</div>

<!-- 팬 메모 모달 -->
<div id="fanMemoModal" class="modal">
    <div class="close" onclick="closeFanMemoModal()">×</div>
    <div>
        <button class="button" onclick="openAddFanMemoModal()">추가</button>
    </div>
    <ul id="fanMemoList"></ul>
</div>

<!-- 팬 생일 추가 모달 -->
<div id="addFanBirthdayModal" class="modal">
    <div class="close" onclick="closeAddFanBirthdayModal()">×</div>
    <input type="text" id="fanNickname" placeholder="닉네임">
    <input type="date" id="fanBirthday">
    <button class="button" onclick="saveFanBirthday()">저장</button>
</div>

<!-- 팬 메모 추가 모달 -->
<div id="addFanMemoModal" class="modal">
    <div class="close" onclick="closeAddFanMemoModal()">×</div>
    <input type="text" id="fanMemoNickname" placeholder="닉네임">
    <textarea id="fanMemoContent" placeholder="메모를 작성하세요..."></textarea>
    <button class="button" onclick="saveFanMemo()">저장</button>
</div>

<!-- 팬 메모 보기 모달 -->
<div id="viewFanMemoModal" class="modal">
    <div class="close" onclick="closeViewFanMemoModal()">×</div>
    <div id="viewFanMemoContent"></div>
</div>

<!-- 계산기 모달 -->
<div id="calculatorModal" class="modal">
    <div class="close" onclick="closeCalculatorModal()">×</div>
    <div id="calculator">
        <input type="text" id="calcDisplay" readonly>
        <button onclick="clearCalc()">C</button>
        <button onclick="appendCalc('/')">/</button>
        <button onclick="appendCalc('*')">*</button>
        <button onclick="appendCalc('-')">-</button>
        <button onclick="appendCalc('7')">7</button>
        <button onclick="appendCalc('8')">8</button>
        <button onclick="appendCalc('9')">9</button>
        <button onclick="appendCalc('+')">+</button>
        <button onclick="appendCalc('4')">4</button>
        <button onclick="appendCalc('5')">5</button>
        <button onclick="appendCalc('6')">6</button>
        <button onclick="calculate()">=</button>
        <button onclick="appendCalc('1')">1</button>
        <button onclick="appendCalc('2')">2</button>
        <button onclick="appendCalc('3')">3</button>
        <button onclick="appendCalc('0')">0</button>
    </div>
</div>

<script>
// 메모 모달을 여는 함수
function openMemoModal() {
    const memoContent = localStorage.getItem('memo') || '';
    document.getElementById('memoContent').value = memoContent;
    document.getElementById('memoModal').style.display = 'block';
}

// 메모 모달을 닫는 함수
function closeMemoModal() {
    const memoContent = document.getElementById('memoContent').value;
    localStorage.setItem('memo', memoContent);
    document.getElementById('memoModal').style.display = 'none';
}

// 메모 내용을 지우는 함수
function clearMemo() {
    document.getElementById('memoContent').value = '';
}

// 중요 메모 모달을 여는 함수
function openImportantMemoModal() {
    document.getElementById('memoModal').style.display = 'none';
    document.getElementById('importantMemoModal').style.display = 'block';
}

// 중요 메모 모달을 닫는 함수
function closeImportantMemoModal() {
    document.getElementById('importantMemoModal').style.display = 'none';
}

// 팬 생일 모달을 여는 함수
function openFanBirthdayModal() {
    closeAllModals();
    document.getElementById('fanBirthdayModal').style.display = 'block';
}

// 팬 생일 모달을 닫는 함수
function closeFanBirthdayModal() {
    document.getElementById('fanBirthdayModal').style.display = 'none';
}

// 팬 메모 모달을 여는 함수
function openFanMemoModal() {
    closeAllModals();
    document.getElementById('fanMemoModal').style.display = 'block';
}

// 팬 메모 모달을 닫는 함수
function closeFanMemoModal() {
    document.getElementById('fanMemoModal').style.display = 'none';
}

// 팬 생일 추가 모달을 여는 함수
function openAddFanBirthdayModal() {
    closeAllModals();
    document.getElementById('addFanBirthdayModal').style.display = 'block';
}

// 팬 생일 추가 모달을 닫는 함수
function closeAddFanBirthdayModal() {
    document.getElementById('addFanBirthdayModal').style.display = 'none';
}

// 팬 메모 추가 모달을 여는 함수
function openAddFanMemoModal() {
    closeAllModals();
    document.getElementById('addFanMemoModal').style.display = 'block';
}

// 팬 메모 추가 모달을 닫는 함수
function closeAddFanMemoModal() {
    document.getElementById('addFanMemoModal').style.display = 'none';
}

// 팬 메모 보기 모달을 여는 함수
function openViewFanMemoModal(nickname, memoContent) {
    closeAllModals();
    document.getElementById('viewFanMemoContent').innerText = memoContent;
    document.getElementById('viewFanMemoModal').dataset.nickname = nickname;
    document.getElementById('viewFanMemoModal').style.display = 'block';
}

// 팬 메모 보기 모달을 닫는 함수
function closeViewFanMemoModal() {
    document.getElementById('viewFanMemoModal').style.display = 'none';
}

// 팬 생일 저장 함수
function saveFanBirthday() {
    const nickname = document.getElementById('fanNickname').value;
    const birthday = document.getElementById('fanBirthday').value;
    if (nickname && birthday) {
        const fanBirthdays = JSON.parse(localStorage.getItem('fanBirthdays') || '[]');
        fanBirthdays.push({ nickname, birthday });
        localStorage.setItem('fanBirthdays', JSON.stringify(fanBirthdays));
        renderFanBirthdays();
        closeAddFanBirthdayModal();
    }
}

// 팬 메모 저장 함수
function saveFanMemo() {
    const nickname = document.getElementById('fanMemoNickname').value;
    const memoContent = document.getElementById('fanMemoContent').value;
    if (nickname && memoContent) {
        const fanMemos = JSON.parse(localStorage.getItem('fanMemos') || '[]');
        fanMemos.push({ nickname, memoContent });
        localStorage.setItem('fanMemos', JSON.stringify(fanMemos));
        renderFanMemos();
        closeAddFanMemoModal();
    }
}

// 팬 생일 리스트 렌더링 함수
function renderFanBirthdays() {
    const fanBirthdays = JSON.parse(localStorage.getItem('fanBirthdays') || '[]');
    const fanBirthdayList = document.getElementById('fanBirthdayList');
    fanBirthdayList.innerHTML = '';
    fanBirthdays.forEach(({ nickname, birthday }, index) => {
        const li = document.createElement('li');
        li.innerHTML = `${nickname} - ${birthday} <button onclick="deleteFanBirthday(${index})">삭제</button>`;
        fanBirthdayList.appendChild(li);
    });
}

// 팬 생일 삭제 함수
function deleteFanBirthday(index) {
    const fanBirthdays = JSON.parse(localStorage.getItem('fanBirthdays') || '[]');
    fanBirthdays.splice(index, 1);
    localStorage.setItem('fanBirthdays', JSON.stringify(fanBirthdays));
    renderFanBirthdays();
}

// 팬 메모 리스트 렌더링 함수
function renderFanMemos() {
    const fanMemos = JSON.parse(localStorage.getItem('fanMemos') || '[]');
    const fanMemoList = document.getElementById('fanMemoList');
    fanMemoList.innerHTML = '';
    fanMemos.forEach(({ nickname, memoContent }) => {
        const li = document.createElement('li');
        li.innerHTML = `${nickname} <button onclick="openViewFanMemoModal('${nickname}', '${memoContent}')">보기</button> <button onclick="deleteFanMemo('${nickname}')">삭제</button>`;
        fanMemoList.appendChild(li);
    });
}

// 팬 메모 삭제 함수
function deleteFanMemo(nickname) {
    const fanMemos = JSON.parse(localStorage.getItem('fanMemos') || '[]');
    const updatedFanMemos = fanMemos.filter(memo => memo.nickname !== nickname);
    localStorage.setItem('fanMemos', JSON.stringify(updatedFanMemos));
    renderFanMemos();
}

// 모든 모달을 닫는 함수
function closeAllModals() {
    document.querySelectorAll('.modal').forEach(modal => {
        modal.style.display = 'none';
    });
}

// 계산기 모달을 여는 함수
function openCalculatorModal() {
    document.getElementById('calculatorModal').style.display = 'block';
}

// 계산기 모달을 닫는 함수
function closeCalculatorModal() {
    document.getElementById('calculatorModal').style.display = 'none';
}

// 계산기 기능
function appendCalc(value) {
    const display = document.getElementById('calcDisplay');
    display.value += value;
}

function clearCalc() {
    document.getElementById('calcDisplay').value = '';
}

function calculate() {
    const display = document.getElementById('calcDisplay');
    try {
        display.value = eval(display.value);
    } catch (e) {
        display.value = 'Error';
    }
}

// 페이지 로드 시 초기 렌더링
document.addEventListener('DOMContentLoaded', () => {
    renderFanBirthdays();
    renderFanMemos();
});
</script>
</body>
</html>
